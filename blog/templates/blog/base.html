<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>{% block title %}PTI UMS{% endblock %}</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bootstrap 5 CDN -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
  >

  <style>
    body {
      font-family: 'Segoe UI', Arial, sans-serif;
    }

    .hero {
      background: linear-gradient(rgba(0,0,0,.5), rgba(0,0,0,.5)),
        url('https://images.unsplash.com/photo-1523050854058-8df90110c9f1');
      background-size: cover;
      background-position: center;
      color: white;
      padding: 100px 0;
    }

    footer {
      background: #0d6efd;
      color: white;
    }
  </style>
</head>
<body>

<!-- =========================
 NAVBAR
========================= -->
<nav class="navbar navbar-expand-lg navbar-dark bg-primary shadow">
  <div class="container">

    <!-- Brand -->
    <a class="navbar-brand fw-bold" href="{% url 'post_list' %}">
      PTI UMS
    </a>

    <!-- Toggle -->
    <button
      class="navbar-toggler"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#navbarNav"
    >
      <span class="navbar-toggler-icon"></span>
    </button>

    <!-- Menu -->
    <div class="collapse navbar-collapse" id="navbarNav">

      <!-- Left Menu -->
      <ul class="navbar-nav me-auto">
        <li class="nav-item">
          <a class="nav-link" href="{% url 'post_list' %}">
            Home
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="{% url 'berita' %}">
            Berita
          </a>
        </li>

        <!-- ✅ PROFIL PUBLIK (TANPA LOGIN) -->
        <li class="nav-item">
          <a class="nav-link" href="{% url 'profil' %}">
            Profil
          </a>
        </li>
      </ul>

      <!-- SEARCH GLOBAL -->
      <form class="d-flex me-3" method="get" action="{% url 'post_list' %}">
        <input
          class="form-control form-control-sm"
          type="search"
          name="q"
          placeholder="Cari post / berita..."
          value="{{ query|default:'' }}"
        >
      </form>

      <!-- Right Menu -->
      <ul class="navbar-nav">

        {% if user.is_authenticated %}

          <!-- Role Badge -->
          <li class="nav-item d-flex align-items-center me-2">
            {% if user.is_superuser %}
              <span class="badge bg-danger">Admin</span>
            {% elif user.groups.all %}
              <span class="badge bg-warning text-dark">Editor</span>
            {% else %}
              <span class="badge bg-secondary">User</span>
            {% endif %}
          </li>

          <!-- Dashboard (Admin / Editor) -->
          {% if perms.blog.view_berita %}
          <li class="nav-item">
            <a class="nav-link" href="{% url 'dashboard_berita' %}">
              Dashboard
            </a>
          </li>
          {% endif %}

          <li class="nav-item">
            <a class="nav-link" href="{% url 'logout' %}">
              Logout
            </a>
          </li>

        {% else %}

          <li class="nav-item">
            <a class="nav-link" href="{% url 'login' %}">
              Login
            </a>
          </li>

        {% endif %}
      </ul>

    </div>
  </div>
</nav>

<!-- =========================
 CONTENT
========================= -->
{% block content %}{% endblock %}

<!-- =========================
 FOOTER
========================= -->
<footer class="py-4 mt-5">
  <div class="container text-center">
    <p class="mb-0">
      © 2025 Program Studi Pendidikan Teknologi Informasi<br>
      Universitas Muhammadiyah Surakarta
    </p>
  </div>
</footer>

<!-- Bootstrap JS -->
<script
  src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js">
</script>

</body>
</html>
