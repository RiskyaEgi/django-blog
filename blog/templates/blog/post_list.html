{% extends 'blog/base.html' %}

{% block title %}
PTI UMS
{% endblock %}

{% block content %}

<!-- =========================
 HERO SECTION (HOME PTI UMS)
========================= -->
<section
  class="position-relative text-white"
  style="
    background-image: linear-gradient(
      rgba(0,0,0,.55),
      rgba(0,0,0,.55)
    ),
    url('https://pti.ums.ac.id/wp-content/uploads/2023/08/lab-pti.jpg');
    background-size: cover;
    background-position: center;
    min-height: 80vh;
  "
>
  <div class="container h-100 d-flex align-items-center">
    <div class="col-md-8">

      <h1 class="fw-bold display-5">
        Selamat Datang
        <span class="text-warning">
          Pemimpin Pendidikan
        </span>
      </h1>

      <h2 class="fw-bold mt-2">
        di Prodi Pendidikan Teknik Informatika
      </h2>

      <p class="lead mt-3">
        Program Studi Pendidikan Teknologi Informasi<br>
        Fakultas Keguruan dan Ilmu Pendidikan<br>
        Universitas Muhammadiyah Surakarta
      </p>

      <a href="{% url 'profil' %}" class="btn btn-warning btn-lg mt-4">
        Profil Prodi
      </a>

      <a href="{% url 'berita' %}" class="btn btn-outline-light btn-lg mt-4 ms-2">
        Lihat Semua Berita
      </a>

    </div>
  </div>
</section>

<!-- =========================
 SLIDER BERITA UNGGULAN
========================= -->
<div class="container my-5">

  <h3 class="fw-bold mb-4">
    Berita Unggulan
  </h3>

  <div id="featuredCarousel" class="carousel slide" data-bs-ride="carousel">

    <!-- Indicators -->
    <div class="carousel-indicators">
      {% for b in featured_berita %}
      <button type="button"
              data-bs-target="#featuredCarousel"
              data-bs-slide-to="{{ forloop.counter0 }}"
              class="{% if forloop.first %}active{% endif %}">
      </button>
      {% endfor %}
    </div>

    <!-- Slides -->
    <div class="carousel-inner">

      {% for b in featured_berita %}
      <div class="carousel-item {% if forloop.first %}active{% endif %}">

        <div class="row align-items-center">

          <!-- Gambar -->
          <div class="col-md-6">
            {% if b.gambar %}
            <img src="{{ b.gambar.url }}"
                 class="d-block w-100 rounded"
                 style="height:350px; object-fit:cover;"
                 alt="{{ b.judul }}">
            {% endif %}
          </div>

          <!-- Konten -->
          <div class="col-md-6">
            <span class="badge bg-warning text-dark mb-2">
              ⭐ Berita Unggulan
            </span>

            <h4 class="fw-bold mt-2">
              {{ b.judul }}
            </h4>

            <p class="text-muted">
              {{ b.ringkasan|truncatewords:25 }}
            </p>

            <a href="{% url 'berita_detail' b.id %}"
               class="btn btn-primary">
              Baca Selengkapnya
            </a>

            {% if perms.blog.change_berita %}
              <a href="{% url 'berita_edit' b.id %}"
                 class="btn btn-outline-secondary ms-2">
                ✏️ Edit
              </a>
            {% endif %}
          </div>

        </div>

      </div>
      {% empty %}
        <div class="carousel-item active">
          <p class="text-muted">
            Belum ada berita unggulan.
          </p>
        </div>
      {% endfor %}

    </div>

    <!-- Controls -->
    <button class="carousel-control-prev"
            type="button"
            data-bs-target="#featuredCarousel"
            data-bs-slide="prev">
      <span class="carousel-control-prev-icon"></span>
    </button>

    <button class="carousel-control-next"
            type="button"
            data-bs-target="#featuredCarousel"
            data-bs-slide="next">
      <span class="carousel-control-next-icon"></span>
    </button>

  </div>

</div>


{% endblock %}
